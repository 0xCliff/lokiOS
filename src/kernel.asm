[BITS 32]

SECTION .asm

GLOBAL _START

CODE_SEG EQU 0x08
DATA_SEG EQU 0x10

_START:
	MOV AX, DATA_SEG
	MOV DS, AX
	MOV ES, AX
	MOV FS, AX
	MOV GS, AX
	MOV SS, AX
	MOV EBP, 0X00200000
	MOV ESP, EBP

	; ENABLE THE A20 LINE
	IN AL, 0x92
	OR AL, 2
	OUT 0x92, AL

	JMP $

TIMES 512-($ - $$) DB 0
